
<p-button (click)="createReprtTag()" label="יצירת דוח חודשי חדש" />
<router-outlet></router-outlet>


<!-- <div >
    <p-dropdown [options]="years"
     [(ngModel)]="selectedYear"
     placeholder="בחירת שנה"
       [editable]="true"
        optionLabel="yearNum"
        (onChange)="changeDate()"  />
</div> -->
<div class="p-field p-mb-3" dir="rtl">
    <p-autoComplete [(ngModel)]="selectedyear" [suggestions]="yearList2"
      (completeMethod)="filterByyear($event.query)" [minLength]="1"
      placeholder="בחירת שנה"  field="yearNum" [dropdown]="true" (onSelect)="select($event)"
      [style]="{width: '27%'}" required  (onChange)="changeDate()"  [forceSelection]="false" >
      <ng-template let-yearname pTemplate="item" >
        <div   class="p-d-flex p-ai-center" >
          שנת  {{ yearname.yearNum}}
          <ng-container *ngIf="is" >
            <button type="button" pButton class= "p-button-text p-button-raised p-button-rounded" (click)="add()">רוצה להוסיף שנה </button>
          </ng-container>
        </div>
      </ng-template>
    </p-autoComplete>
  </div>
<div >
    <p-dropdown [options]="months"
     [(ngModel)]="selectedMonth"
     placeholder="בחירת חודש"
       [editable]="true"
        (onChange)="changeDate()" />
</div>




 <p-table
 [value]="fieldBymonths" 
  sortField="type"
    sortMode="single" 
    dataKey="type" 
    rowGroupMode="subheader" 
    groupRowsBy="type" 
    [tableStyle]="{'min-width': '70rem'}">
        <ng-template pTemplate="groupheader" let-fieldBymonth let-rowIndex="rowIndex" let-expanded="expanded">
            <tr>
                <td colspan="5">
                    <h4 class="font-bold ml-2">{{fieldBymonth.type}}</h4>
                </td>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-fieldBymonth>
            <th><div class="text-center">{{fieldBymonth.value}}</div>
                <input *ngIf="fieldBymonth.content != 'לא בוצע' && fieldBymonth.content != 'בוצע'" type="text" value="{{fieldBymonth.content}}" />
                <input *ngIf="fieldBymonth.content === 'לא בוצע' || fieldBymonth.content === 'בוצע'" type="checkbox" [checked]="fieldBymonth.content === 'בוצע'" />
            </th>
        </ng-template>
</p-table>






