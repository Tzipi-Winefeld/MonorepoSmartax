<router-outlet></router-outlet>

<br><br>
<p-button (click)="createReprtTag()" label="יצירת דוח שנתי חדש" />

<p-table [value]="allYearlyReport" [tableStyle]="{ 'max-width': '50rem' }">
    <ng-template pTemplate="header">
        <tr>
            <th></th>
            <th>סטטוס</th>
            <th>ישות</th>
            <th>עובד מטפל</th>
            <th>יתרה לתשלום</th>
            <th>סכום ששולם</th>
            <th>מחיר</th>

            <th>תאריך יצירה</th>
            <th pSortableColumn="yearReport" class="sort">
                :שנה <p-sortIcon field="yearReport" />
            </th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-yearlyReport>
        <tr (click)="selectYearlyReport(yearlyReport)"
            [ngClass]="{ 'highlight': currentYearlyReport === yearlyReport }">
            <td><button *ngIf="currentYearlyReport === yearlyReport" pButton
                    class="pi pi-pencil p-button-outlined p-button-rounded p-button-info"
                    (click)="goToSteps(yearlyReport)"></button>
            </td>
            <td class="{{yearlyReport.status.color}}">{{yearlyReport.status.name}}</td>
            <td>{{yearlyReport.entityType}}</td>
            <td>{{getEmployeName(yearlyReport.idEmploye)?.userName }}</td>
            <td>{{ yearlyReport.balanceDue }}</td>
            <td>{{ yearlyReport.paymentAmountPaid }}</td>
            <td>{{ yearlyReport.price }}</td>
            <td>{{ yearlyReport.dateTime | date:'dd/MM/yyyy' }}</td>
            <td>{{ yearlyReport.yearReport }}</td>
        </tr>
    </ng-template>
</p-table>