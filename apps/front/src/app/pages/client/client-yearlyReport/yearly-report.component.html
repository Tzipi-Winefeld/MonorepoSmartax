<router-outlet></router-outlet>

<br><br>
<p-button (click)="createReprtTag()" label="יצירת דוח שנתי חדש" />
<p-button *ngIf="isSelected != 2" (click)="onSelectionChange(2)" label="מיין לפי"></p-button>
<p-button *ngIf="isSelected == 2" (click)="onSelectionChange(5)" label="ללא מיון"></p-button>
<p-button *ngIf="is == 2" (click)="filterToDoWithBalanceDue()" label="TO DO סנן לפי סכום ששלום ו" />
<p-button *ngIf="is != 2" (click)="filterToDoWithBalanceDue2()" label="ללא סינון" />
<p-table [value]="isSelected != 1 && isSelected != 0 ?filterallYearlyReport :allYearlyReport " [tableStyle]="{ 'max-width': '50rem' }">
    <ng-template pTemplate="header" let-columns>
        <tr>
            <th></th>
            <th>סטטוס
                <div>
                    <select *ngIf="isSelected == 2" [(ngModel)]="selectedStatus" (change)="filterByStatus($event)">
                      <option>TO DO</option>
                      <option>IN PROGRESS</option>
                    </select>
                  </div>   
            </th>
            <th>ישות</th>
            <th>עובד מטפל</th>
            <th>יתרה לתשלום</th>
            <th>סכום ששולם</th>
            <th>מחיר</th>
            
            <th>תאריך יצירה</th>
            <th pSortableColumn="yearReport" class="sort">
                :שנה <p-sortIcon field="yearReport" />
            </th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-task>
        <tr>
            <td><p-button (click)="goToSteps(task)" label="עדכן" /></td>
            <td class="{{task.status.color}}">{{task.status.name}}</td>
            <td>{{task.entityType}}</td>
            <td>{{getEmployeName(task.idEmploye)?.userName }}</td>
            <td>{{ task.balanceDue }}</td>
            <td>{{ task.paymentAmountPaid }}</td>
            <td>{{ task.price }}</td>
            <td>{{ task.dateTime | date:'dd/MM/yyyy' }}</td>
            <td>{{ task.yearReport }}</td>
        </tr>
    </ng-template>
</p-table>